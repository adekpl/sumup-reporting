version: 2

models:
  - name: report_avg_amount_by_typology
    description: >
      Average transaction amount per store typology and country, grouped monthly.
      Helps analyze performance across retail types and geographic regions.
    columns:
      - name: month_date
        description: "Month representing the aggregation period."
        tests:
          - not_null
      - name: country
        description: "Country of the transaction."
        tests:
          - not_null
      - name: typology
        description: "Store typology (e.g., Retail, Restaurant, etc.)."
      - name: avg_transaction_amount
        description: "Average transaction amount for the given typology and country."
      - name: total_transactions
        description: "Total number of transactions in that month for the group."
